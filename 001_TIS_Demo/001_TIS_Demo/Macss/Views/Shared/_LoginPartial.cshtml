@using Microsoft.AspNet.Identity

<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    <ul class="nav navbar-nav navbar-right">

@if (Request.IsAuthenticated)
{
    <li style="margin-left:10px;margin-top:10px">
        <h5  style="font-weight:bold">@User.Identity.GetUserName() さん</h5>
    </li>

    <li style="margin-left:10px;">
        @using (Html.BeginRouteForm("Default", new { controller = "Account", Action = "ChangePassword"}, FormMethod.Get, new { id = Context.User.Identity.GetUserId()}))
        {
            @Html.AntiForgeryToken()
            <button type="submit" class="btn btn-info navbar-btn" id="changePassword">
                <span>パスワード変更</span>
            </button>
        }

    </li>

    <li style="margin-left:10px;">
        @using (Html.BeginRouteForm("Default", new { controller = "Home", Action = "LogOff" }, FormMethod.Post, new { id = "logoutForm"}))
        {
            @Html.AntiForgeryToken()
            <button type="submit" class="btn btn-info navbar-btn">
                <span>ログオフ</span>
            </button>
        }
    </li>
}
    </ul>
</div>